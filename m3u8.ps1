New-Item -ItemType Directory -Force -Path 'hls'; & 'F:\GitHub\KTVProject\ffmpeg\bin\ffmpeg.exe' -i 'mv.mp4' -i 'music.m4a' -i 'voice.m4a' -filter_complex '[0:v]split=1[v0];[1:a]asplit=1[a0];[2:a]asplit=1[a1]' -map '[v0]' -c:v libx264 -preset veryfast -crf 23 -map '[a0]' -c:a:0 aac -b:a:0 192k -map '[a1]' -c:a:1 aac -b:a:1 192k -f hls -hls_time 10 -hls_playlist_type vod -hls_segment_filename 'hls/stream_%v/data%02d.ts' -master_pl_name master.m3u8 -var_stream_map 'v:0,a:0,name:backing a:1,name:vocal' 'hls/stream_%v/stream.m3u8'; $duration = (& 'F:\GitHub\KTVProject\ffmpeg\bin\ffprobe.exe' -v error -show_entries format=duration -of default=noprint_wrappers=1:nokey=1 'mv.mp4'); $seconds = [math]::Round([double]$duration); $minutes = [math]::Floor($seconds / 60); $rem_seconds = $seconds % 60; Write-Host "✅ HLS 合併完成！ 媒體長度約為: $minutes 分 $rem_seconds 秒 (共 $seconds 秒)"